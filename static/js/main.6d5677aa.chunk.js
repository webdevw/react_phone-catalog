(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(26).concat([function(e,t,c){},,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(27),a=c.n(n),s=c(6),i=c(3),r=c(7),l=c(4),o=c(5),j=c.n(o),u=c(1),d=c.n(u),b=(c(34),c(10)),m=c(11),h="_new/products";function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return c&&(n.body=JSON.stringify(c),n.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(h+e,n).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var p=function(e){return _(e)},O=function(){return p(".json")},f=function(e){return p("/".concat(e,".json"))};function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img/phones/",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_new/img/phones/",n=e.map((function(e){var n=e.image.replaceAll(t,c);return Object(m.a)(Object(m.a)({},e),{},{image:n})}));return n}var v=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=Object(b.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}));return t?x(c):c},N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=Object(b.a)(e).sort((function(e,t){return t.price-e.price}));return t?x(c):c},g=function(e){for(var t=Object(b.a)(e),c=t.length-1;c>0;c-=1){var n=Math.floor(Math.random()*(c+1)),a=[t[n],t[c]];t[c]=a[0],t[n]=a[1]}return x(t)},y=function(e,t){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object(b.a)(e).sort((function(e,c){var n=e.fullPrice-e.price,a=c.fullPrice-c.price;switch(t){case"new":return c.price-e.price;case"hotPrice":return a-n;case"name":return e.name.localeCompare(c.name);case"price":return e.price-c.price;default:return c.year-e.year}}));return c?x(n):n},C=(c(35),c(8)),S=c.n(C);function I(e,t){var c=Object(u.useState)((function(){try{var c=e?localStorage.getItem(e):null;return c?JSON.parse(c):t}catch(n){return t}})),n=Object(l.a)(c,2),a=n[0],s=n[1];return[a,function(t){s(t),e&&localStorage.setItem(e,JSON.stringify(t))}]}var w,k=function(e,t){switch(t.type){case"UPDATE_QUANTITY":case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object(m.a)(Object(m.a)({},e),{},{cartItems:t.payload});case"UPDATE_PRICE":return Object(m.a)(Object(m.a)({},e),{},{totalCost:t.payload});case"UPDATE_FAVORITES":return Object(m.a)(Object(m.a)({},e),{},{favoriteItems:t.payload});default:return e}},T=c(0),A={totalCost:0,cartItems:[],favoriteItems:[]},P=d.a.createContext(A),D=d.a.createContext((function(e){})),E=function(e){var t=e.children,c=function(e,t){var c=JSON.parse(localStorage.getItem(e)||JSON.stringify(t)),n=Object(u.useReducer)(k,c),a=Object(l.a)(n,2),s=a[0],i=a[1];return Object(u.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,i]}("CartStorage",A),n=Object(l.a)(c,2),a=n[0],s=n[1];return Object(T.jsx)(D.Provider,{value:s,children:Object(T.jsx)(P.Provider,{value:a,children:t})})},R=(c(37),function(e){var t=e.data,c=e.discount,n=void 0===c||c,a=t.image,i=t.name,r=t.price,l=t.fullPrice,o=t.screen,j=t.capacity,d=t.ram,b=t.phoneId,m=Object(u.useContext)(D),h=Object(u.useContext)(P),_=h.cartItems,p=h.favoriteItems,O=_.some((function(e){return e.id===b})),f=p.some((function(e){return e.phoneId===b}));return Object(T.jsxs)("div",{className:"productCard",children:[Object(T.jsxs)(s.b,{to:"/phones/".concat(b),className:"productCard__link",children:[Object(T.jsx)("div",{className:"productCard__image image",children:Object(T.jsx)("img",{src:a,alt:i,className:"image__item"})}),Object(T.jsx)("div",{className:"productCard__nameWrapper",children:Object(T.jsx)("span",{className:"productCard__name",children:i})}),Object(T.jsx)("div",{className:"productCard__prices price",children:n?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"price__current",children:r}),Object(T.jsx)("span",{className:"price__old",children:l})]}):Object(T.jsx)("span",{className:"price__current",children:l})}),Object(T.jsx)("span",{className:"productCard__underline"}),Object(T.jsxs)("div",{className:"productCard__specs details",children:[Object(T.jsxs)("div",{className:"details__parts",children:[Object(T.jsx)("p",{className:"details__part",children:"Screen"}),Object(T.jsx)("p",{className:"details__part",children:"Capacity"}),Object(T.jsx)("p",{className:"details__part",children:"RAM"})]}),Object(T.jsxs)("div",{className:"details__values",children:[Object(T.jsx)("p",{className:"details__value",children:o}),Object(T.jsx)("p",{className:"details__value",children:j}),Object(T.jsx)("p",{className:"details__value",children:d})]})]})]}),Object(T.jsxs)("div",{className:"productCard__buttons",children:[Object(T.jsx)("button",{type:"button",onClick:function(){m(O?{type:"ADD_TO_CART",payload:_.map((function(e){return e.id===b?{id:b,quantity:e.quantity+1,product:t,discount:n}:e}))}:{type:"ADD_TO_CART",payload:_.concat({id:b,quantity:1,product:t,discount:n})})},className:S()("productCard__button-add",{"productCard__button-add--includes":O}),children:O?"Added to cart":"Add to cart"}),Object(T.jsx)("button",{className:"productCard__button-favorite",type:"button","data-cy":"addToFavorite","aria-label":"add-to-favorite",onClick:function(){m(f?{type:"UPDATE_FAVORITES",payload:p.filter((function(e){return e.phoneId!==b}))}:{type:"UPDATE_FAVORITES",payload:p.concat(t)})},children:Object(T.jsx)("span",{className:S()("icon icon-hearth",{"icon-hearth--selected":f})})})]})]})}),L=function(e){var t=e.slideNumber,c=e.items,n=e.discount,a=void 0===n||n;return Object(T.jsx)("div",{className:"slider__list",style:{transform:"translateX(-".concat(100*t,"%)")},"data-cy":"cardsContainer",children:c.map((function(e){return Object(T.jsx)("div",{className:"slider__item",children:Object(T.jsx)(R,{data:e,discount:a})},e.id)}))})},F=function(e){var t=e.title,c=e.items,n=e.discount,a=void 0===n||n,s=Object(u.useState)(0),i=Object(l.a)(s,2),r=i[0],o=i[1],j=Object(u.useState)(4),d=Object(l.a)(j,2),b=d[0],m=d[1],h=Object(u.useRef)(null),_=function(){var e=Object(u.useState)([0,0]),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(u.useLayoutEffect)((function(){function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),c}(),p=Object(l.a)(_,1)[0],O=Math.ceil((c.length-b)/b);Object(u.useEffect)((function(){!function(e){if(e.current){var t=e.current.getBoundingClientRect().width,c=Math.round(t);c<560&&m(1),c>=560&&c<605&&m(2),c<=848&&c>605&&m(3),c>848&&m(4)}}(h)}),[p]);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r+e;t<0&&(t=0),t>=O&&(t=O),o(t)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"block-header",children:[Object(T.jsx)("h3",{className:"block-header__title",children:t}),Object(T.jsxs)("div",{className:"block-header__arrows arrows",children:[Object(T.jsx)("button",{type:"button",className:"arrows__arrow arrows__arrow--left",onClick:function(){return f(-1)},"aria-label":"previously",disabled:0===r}),Object(T.jsx)("button",{type:"button",className:"arrows__arrow arrows__arrow--right",onClick:function(){return f(1)},"aria-label":"next",disabled:r===O})]})]}),Object(T.jsx)("div",{ref:h,className:"slider",children:Object(T.jsx)(L,{slideNumber:r,items:c,discount:a})})]})};F.defaultProps={discount:!0},function(e){e.Home="home",e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories"}(w||(w={}));var q,B=[{pathTo:"/",title:w.Home},{pathTo:"/phones",title:w.Phones},{pathTo:"/tablets",title:w.Tablets},{pathTo:"/accessories",title:w.Accessories}],M=[{pathTo:"/phones",title:"Mobile ".concat(w.Phones),subtitle:"95 models",imgPath:"_new/img/category-".concat(w.Phones,".png"),bgColorImg:"#FCDBC1",width:"386px",height:"457px",top:"8px",left:"73px"},{pathTo:"/tablets",title:w.Tablets,subtitle:"24 models",imgPath:"_new/img/category-".concat(w.Tablets,".png"),bgColorImg:"#89939A",width:"546px",height:"546px",top:"20px",left:"22px"},{pathTo:"/accessories",title:w.Accessories,subtitle:"100 models",imgPath:"_new/img/category-".concat(w.Accessories,".png"),bgColorImg:"#ac385e",width:"auto",height:"300px",top:"68px",left:"43px"}],U=(c(38),function(e){var t=e.category,c=t.pathTo,n=t.title,a=t.subtitle,i=t.imgPath,r=t.bgColorImg,l=t.width,o=t.height,j=t.top,u=t.left;return Object(T.jsxs)(s.b,{to:c,className:"item__link",children:[Object(T.jsx)("div",{className:"item__imgContainer",style:{backgroundColor:r},children:Object(T.jsx)("img",{src:i,alt:n,style:{width:l,height:o,top:j,left:u},className:"item__img"})}),Object(T.jsx)("h3",{className:"item__title",children:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1))}),Object(T.jsx)("span",{className:"item__subtitle",children:a})]})}),V=(c(39),function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h3",{className:"block-header__title",children:"Shop by category"}),Object(T.jsx)("div",{className:"shopByCategory categories",children:Object(T.jsx)("ul",{className:"categories__list list","data-cy":"categoryLinksContainer",children:M.map((function(e){return Object(T.jsx)("li",{className:"list__item item",children:Object(T.jsx)(U,{category:e})},e.title)}))})})]})}),J=(c(26),c.p+"static/media/left-arrow.081ebe62.svg"),z=c.p+"static/media/right-arrow.7365d53e.svg",H=function(e){var t=e.direction,c=e.moveSlide;return Object(T.jsx)("button",{type:"button",className:"next"===t?"btn-slide next":"btn-slide prev",onClick:c,children:Object(T.jsx)("img",{src:"next"===t?z:J,alt:"next"})})},W=function(e){var t=e.dataSlider,c=Object(u.useState)(1),n=Object(l.a)(c,2),a=n[0],s=n[1];return Object(u.useEffect)((function(){var e=setInterval((function(){s((function(e){var c=(e+1)%t.length;switch(c){case 0:return t.length;case t.length:return 0;default:return c}}))}),5e3);return function(){clearInterval(e)}}),[]),Object(T.jsxs)("div",{className:"container-slider",children:[t.map((function(e,t){return Object(T.jsx)("div",{className:a===t+1?"slide active-anim":"slide",children:Object(T.jsx)("img",{src:"".concat(".").concat(e),alt:e})},e)})),Object(T.jsx)(H,{moveSlide:function(){a!==t.length?s(a+1):a===t.length&&s(1)},direction:"next"}),Object(T.jsx)(H,{moveSlide:function(){1!==a?s(a-1):1===a&&s(t.length)},direction:"prev"}),Object(T.jsx)("ul",{className:"container-dots dots__list",children:t.map((function(e,t){return Object(T.jsx)("li",{className:"dots__item",children:Object(T.jsx)("button",{type:"button","aria-label":"dot",onClick:function(){return function(e){s(e)}(t+1)},className:S()("dot",{"dot--active":a===t+1})})},e)}))})]})},Y=["_new/img/banner-accessories.png","_new/img/banner-phones.png","_new/img/banner-tablets.png"],$=[{value:"age",label:"Newest"},{value:"name",label:"Alphabetically"},{value:"price",label:"Cheapest"}],G=[{value:"all",label:"all"},{value:"4",label:"4"},{value:"8",label:"8"},{value:"16",label:"16"}],Q=function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(u.useState)([]),s=Object(l.a)(a,2),i=s[0],o=s[1],d=function(){var e=Object(r.a)(j.a.mark((function e(){var t,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:t=e.sent,c=v(t),a=N(t),n(c),o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),window.console.log("some error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){d()}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(W,{dataSlider:Y}),Object(T.jsx)("div",{className:"block hotPrices",children:Object(T.jsx)(F,{title:"Hot prices",items:c})}),Object(T.jsx)("div",{className:"block shopByCategory",children:Object(T.jsx)(V,{})}),Object(T.jsx)("div",{className:"block brandNew",children:Object(T.jsx)(F,{title:"Brand new models",items:i,discount:!1})})]})},X=(c(40),function(){return Object(T.jsx)("div",{className:"Loader",children:Object(T.jsx)("div",{className:"Loader__content"})})});!function(e){e.Newest="age",e.Alphabetically="name",e.Cheapest="price"}(q||(q={}));c(41);var Z=function(e){var t=e.options,c=e.selectOption,n=e.localStorageName,a=e.localValueStart,s=void 0===a?"0":a,i=e.width,r=Object(u.useState)(!1),o=Object(l.a)(r,2),j=o[0],d=o[1],b=I(n,s),m=Object(l.a)(b,2),h=m[0],_=m[1],p=Object(u.useState)(t[+h]),O=Object(l.a)(p,2),f=O[0],x=O[1],v=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=function(e){v.current&&!v.current.contains(e.target)&&d(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var N=function(e){return!!f&&f.value===e.value};return Object(T.jsxs)("div",{className:"dropdown",style:{width:"".concat(i,"px")},children:[Object(T.jsxs)("div",{className:"dropdown__input",onClick:function(){d(!j)},"aria-hidden":"true",ref:v,children:[Object(T.jsx)("div",{className:"dropdown__selectedValue",children:f.label}),Object(T.jsx)("div",{className:"dropdown__tools",children:Object(T.jsx)("div",{className:S()("dropdown__tool",{"dropdown__tool--active":j})})})]}),j&&Object(T.jsx)("div",{className:"dropdown__menu",children:t.map((function(e,t){return Object(T.jsx)("div",{onClick:function(){return function(e,t){x(e),_(String(t)),e.value!==(null===f||void 0===f?void 0:f.value)&&c(e.value)}(e,t)},"aria-hidden":"true",className:S()("dropdown__menuItem",{"dropdown__menuItem--selected":N(e)}),children:e.label},e.value)}))})]})};c(42);var K,ee=function(e){var t=e.data;return Object(T.jsx)("ul",{className:"products__list","data-cy":"productList",children:t.map((function(e){return Object(T.jsx)("li",{className:"products__item",children:Object(T.jsx)(R,{data:e})},e.id)}))})},te=(c(43),function(e){var t=e.items,c=e.itemsPerPage,n=c||t.length,a=Object(s.d)(),r=Object(l.a)(a,2),o=r[0],j=r[1],u=Object(i.m)(),d=+(o.get("page")||"1"),b=Math.ceil(t.length/n),m=d*n,h=m-n,_=t.slice(h,m),p=function(e,t){e.preventDefault();var c=d;if("prev"===t)c-=1;else c+=1;c<1||c>b||(o.set("page",String(c)),j(o))},O=function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(0,b-1);return Object(T.jsxs)("div",{className:"pagination",children:[Object(T.jsx)(ee,{data:_}),!!c&&Object(T.jsxs)("ul",{className:"pagination__links",children:[Object(T.jsx)("li",{className:S()("pagination__itemLi",{"pagination__itemLi--disabled":1===d}),"data-cy":"paginationLeft",children:Object(T.jsx)(s.b,{to:"".concat(u.pathname,"?").concat(o.toString()),className:"pagination__link pagination__link--prev",onClick:function(e){return p(e,"prev")},"aria-disabled":1===d,children:"<"})}),O.map((function(e){return Object(T.jsx)("li",{className:S()("pagination__itemLi",{"pagination__itemLi--active":e+1===d}),children:Object(T.jsx)(s.b,{className:"pagination__link",to:"".concat(u.pathname,"?").concat(o.toString()),onClick:function(e){return function(e){e.preventDefault();var t=+e.currentTarget.innerHTML;t!==d&&(o.set("page",String(t)),j(o))}(e)},children:e+1})},e)})),Object(T.jsx)("li",{className:S()("pagination__itemLi",{"pagination__itemLi--disabled":d===b}),"data-cy":"paginationRight",children:Object(T.jsx)(s.b,{to:"".concat(u.pathname,"?").concat(o.toString()),className:"pagination__link pagination__link--next",onClick:function(e){return p(e,"next")},children:">"})})]})]})});!function(e){e.All="all",e.Four="4",e.Eight="8",e.Sixteen="16"}(K||(K={}));c(44);var ce=c.p+"static/media/home.d4c29e4f.svg",ne=(c(45),function(e){var t,c=e.page,n=e.name,a=Object(i.q)().phoneId,r="".concat((t=c).charAt(0).toUpperCase()+t.slice(1));return Object(T.jsxs)("div",{className:"breadcrumbs",children:[Object(T.jsx)(s.b,{to:"/",className:"breadcrumbs__home",children:Object(T.jsx)("img",{src:ce,alt:"img_Link"})}),a?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(s.b,{to:"/".concat(c),className:"breadcrumbs__link",children:r}),Object(T.jsx)("span",{className:"breadcrumbs__text",children:n})]}):Object(T.jsx)("span",{className:"breadcrumbs__text",children:r})]})});function ae(e,t){if(!t||!t.length)return e;var c=t.toLowerCase();return Object(b.a)(e).filter((function(e){var t=e.name,n=e.price,a=e.fullPrice,s=e.screen,i=e.capacity,r=e.ram;return t.toLowerCase().includes(c)||String(n).toLowerCase().includes(c)||String(a).toLowerCase().includes(c)||s.toLowerCase().includes(c)||i.toLowerCase().includes(c)||r.toLowerCase().includes(c)}))}var se,ie=function(){return Object(T.jsx)("h2",{children:"No matching products in the query"})},re=function(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(u.useState)(!1),i=Object(l.a)(a,2),o=i[0],d=i[1],b=Object(u.useState)(null),m=Object(l.a)(b,2),h=m[0],_=m[1],p=I("sorting",q.Newest),f=Object(l.a)(p,2),x=f[0],v=f[1],N=Object(s.d)(),g=Object(l.a)(N,2),C=g[0],S=g[1],w=I("perPage",K.All),k=Object(l.a)(w,2),A=k[0],P=k[1],D=C.get("query"),E=function(){var e=Object(r.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,O();case 4:t=e.sent,c=y(t,x),n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_("something went wrong");case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){if(c){var t=y(c,e,!1);v(e),n(t)}return null},L=function(){return c&&ae(c,D).length?ae(c,D):[]};return Object(u.useEffect)((function(){L()}),[c,D]),Object(u.useEffect)((function(){E()}),[]),Object(u.useEffect)((function(){R(x)}),[x]),Object(u.useEffect)((function(){!function(){C.set("sort",x),C.set("perPage",A);var e=C.get("page"),t="all"===C.get("perPage"),c=t&&C.has("page");t||"1"===e||C.set("page","1"),c&&C.delete("page");var n=C.get("sort"),a=C.get("perPage");"age"===n&&"all"===a&&(C.delete("sort"),C.delete("perPage"),C.delete("page")),S(C)}()}),[x,A]),Object(T.jsx)(T.Fragment,{children:c?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"breadcrumbsContainer",children:Object(T.jsx)(ne,{page:"Phone"})}),Object(T.jsx)("h1",{className:"pageTitle",children:"Mobile phones"}),!!L().length&&Object(T.jsx)("h4",{className:"subTitle",children:"".concat(L().length," models")}),L().length?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"product__selection",children:[Object(T.jsxs)("div",{className:"product__sorting",children:[Object(T.jsx)("div",{className:"product__title",children:"Sort by"}),Object(T.jsx)(Z,{options:$,selectOption:R,localStorageName:"dropdownOption",localValueStart:"0",width:176})]}),Object(T.jsxs)("div",{className:"product__sorting",children:[Object(T.jsx)("div",{className:"product__title",children:"Items on page"}),Object(T.jsx)(Z,{options:G,selectOption:P,localStorageName:"itemsOnPage",localValueStart:"0",width:128})]})]}),Object(T.jsx)(te,{items:ae(c,D),itemsPerPage:+A})]}):Object(T.jsx)(ie,{}),!!h&&Object(T.jsx)("p",{children:h})]}):o&&Object(T.jsx)(X,{})})},le=function(){return Object(T.jsx)("h1",{children:"Tablets"})},oe=function(){return Object(T.jsx)("h1",{children:"Accessories"})},je=(c(46),c(47),function(e){var t=e.title,c=e.text;return Object(T.jsxs)("div",{className:"description__block",children:[Object(T.jsx)("h3",{className:"description__subtitle",children:t}),c.map((function(e){return Object(T.jsx)("p",{className:"description__text",children:e},e)}))]})}),ue=function(e){var t=e.description;return Object(T.jsx)("ul",{className:"description__list",children:t.map((function(e){var t=e.title,c=e.text;return Object(T.jsx)("li",{className:"description__listItem",children:Object(T.jsx)(je,{title:t,text:c})},t)}))})},de=(c(48),function(e){var t=e.screen,c=e.resolution,n=e.processor,a=e.ram,s=e.capacity,i=e.camera,r=e.zoom,l=e.cell,o=(void 0===l?[]:l).join(", ");return Object(T.jsxs)("ul",{className:"specification__list",children:[Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Screen"}),Object(T.jsx)("span",{className:"specification__value",children:t})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Resolution"}),Object(T.jsx)("span",{className:"specification__value",children:c})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Processor"}),Object(T.jsx)("span",{className:"specification__value",children:n})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"RAM"}),Object(T.jsx)("span",{className:"specification__value",children:a})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Built in memory"}),Object(T.jsx)("span",{className:"specification__value",children:s})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Camera"}),Object(T.jsx)("span",{className:"specification__value",children:i})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Zoom"}),Object(T.jsx)("span",{className:"specification__value",children:r})]}),Object(T.jsxs)("li",{className:"specification__listItem",children:[Object(T.jsx)("span",{className:"specification__name",children:"Cell"}),Object(T.jsx)("span",{className:"specification__value",children:o})]})]})}),be=(c(49),c(50),function(){var e=Object(i.o)();return Object(T.jsx)("button",{className:"back",type:"button",onClick:function(){e(-1)},children:"Back"})}),me=function(e){var t=e.phoneDetails,c=e.phoneId,n=e.phoneData,a=t.id,i=t.name,r=t.images,o=t.colorsAvailable,j=t.capacityAvailable,d=t.screen,b=t.capacity,h=t.camera,_=t.resolution,p=t.processor,O=t.ram,f=t.description,x=t.zoom,v=t.cell,N=t.priceDiscount,g=t.priceRegular,y=t.namespaceId,C=t.color,I=Object(u.useContext)(P),w=I.cartItems,k=I.favoriteItems,A=Object(u.useContext)(D),E=Object(u.useState)("_new/".concat(r[0])),R=Object(l.a)(E,2),L=R[0],F=R[1];Object(u.useEffect)((function(){F("_new/".concat(r[0]))}),[r]);var q=w.some((function(e){return e.id===c})),B=k.some((function(e){return e.phoneId===a}));return Object(T.jsxs)("div",{className:"phoneDetails",children:[Object(T.jsxs)("nav",{className:"phoneDetails__nav",children:[Object(T.jsx)("div",{className:"phoneDetails__navBreadcrumbs",children:Object(T.jsx)(ne,{page:"phones",name:i})}),Object(T.jsx)("div",{className:"phoneDetails__navBack",children:Object(T.jsx)(be,{"data-cy":"backButton"})})]}),Object(T.jsx)("h1",{className:"phoneDetails__title",children:i}),Object(T.jsxs)("section",{className:"phoneDetails__section",children:[Object(T.jsxs)("div",{className:"phoneDetails__photos",children:[Object(T.jsx)("div",{className:"phoneDetails__photosSmall",children:Object(T.jsx)("ul",{className:"phoneDetails__listItems",children:r.map((function(e){return Object(T.jsx)("li",{className:"phoneDetails__listItem",children:Object(T.jsx)("button",{className:"phoneDetails__listItemButton",type:"button",onClick:function(){return function(e){var t="_new/".concat(e);F(t)}(e)},children:Object(T.jsx)("img",{src:"_new/".concat(e),alt:"",className:"phoneDetails__listItemImage"})})},e)}))})}),Object(T.jsx)("div",{className:"phoneDetails__photo",children:Object(T.jsx)("img",{src:L,alt:"",className:"phoneDetails__photoBig"})})]}),Object(T.jsxs)("div",{className:"phoneDetails__info",children:[Object(T.jsxs)("div",{className:"phoneDetails__infoSelect infoSelect",children:[Object(T.jsx)("h5",{className:"infoSelect__text",children:"Available colors"}),Object(T.jsx)("ul",{className:"infoSelect__colors colorsList",children:o.map((function(e){return Object(T.jsx)("li",{className:"colorsList__item",children:Object(T.jsx)(s.b,{to:"../".concat(y,"-").concat(b,"-").concat(e),className:"infoSelect__color",style:{backgroundColor:e}})},e)}))}),Object(T.jsx)("span",{className:"infoSelect__underline"}),Object(T.jsx)("h5",{className:"infoSelect__text",children:"Select capacity"}),Object(T.jsx)("ul",{className:"infoSelect__capacities",children:j.map((function(e){return Object(T.jsx)("li",{className:"infoSelect__capacity",children:Object(T.jsx)(s.b,{to:"../".concat(y,"-").concat(e,"-").concat(C),className:S()("infoSelect__capacitiesBtn",{"infoSelect__capacitiesBtn--selected":b===e}),children:e})},e)}))}),Object(T.jsx)("span",{className:"infoSelect__underline infoSelect__underline--mb32"}),Object(T.jsxs)("div",{className:"infoSelect__price",children:[Object(T.jsx)("span",{className:"infoSelect__priceDiscount",children:"$".concat(N)}),Object(T.jsx)("span",{className:"infoSelect__priceRegular",children:"$".concat(g)})]}),Object(T.jsxs)("div",{className:"infoSelect__buttonsWrapper",children:[Object(T.jsx)("button",{onClick:function(){A(q?{type:"ADD_TO_CART",payload:w.map((function(e){return e.id===a?Object(m.a)(Object(m.a)({},e),{},{quantity:e.quantity+1}):e}))}:{type:"ADD_TO_CART",payload:w.concat({id:c,quantity:1,product:n[n.findIndex((function(e){return e.phoneId===a}))],discount:!0})})},type:"button",className:S()("infoSelect__btnAddToCart",{"infoSelect__btnAddToCart--includes":q}),children:q?"Added to cart":"Add to cart"}),Object(T.jsx)("button",{className:"infoSelect__button-favorite","data-cy":"addToFavorite",type:"button","aria-label":"add-to-favorite",onClick:function(){A(B?{type:"UPDATE_FAVORITES",payload:k.filter((function(e){return e.phoneId!==a}))}:{type:"UPDATE_FAVORITES",payload:k.concat(n[n.findIndex((function(e){return e.phoneId===a}))])})},children:Object(T.jsx)("span",{className:S()("icon icon-hearth",{"icon-hearth--selected":B})})})]}),Object(T.jsxs)("ul",{className:"infoSelect__list",children:[Object(T.jsxs)("li",{className:"infoSelect__listItem",children:[Object(T.jsx)("span",{className:"infoSelect__listTitle",children:"Screen"}),Object(T.jsx)("span",{className:"infoSelect__listSpecs",children:d})]}),Object(T.jsxs)("li",{className:"infoSelect__listItem",children:[Object(T.jsx)("span",{className:"infoSelect__listTitle",children:"Resolution"}),Object(T.jsx)("span",{className:"infoSelect__listSpecs",children:_})]}),Object(T.jsxs)("li",{className:"infoSelect__listItem",children:[Object(T.jsx)("span",{className:"infoSelect__listTitle",children:"Processor"}),Object(T.jsx)("span",{className:"infoSelect__listSpecs",children:p})]}),Object(T.jsxs)("li",{className:"infoSelect__listItem",children:[Object(T.jsx)("span",{className:"infoSelect__listTitle",children:"RAM"}),Object(T.jsx)("span",{className:"infoSelect__listSpecs",children:O})]})]})]}),Object(T.jsx)("div",{className:"phoneDetails__infoId",children:Object(T.jsx)("h5",{className:"phoneDetails__infoIdText",children:"ID: 802390"})})]}),Object(T.jsxs)("div",{className:"phoneDetails__description description","data-cy":"productDescription",children:[Object(T.jsx)("h2",{className:"description__title",children:"About"}),Object(T.jsx)("span",{className:"infoSelect__underline infoSelect__underline--mb32"}),Object(T.jsx)(ue,{description:f})]}),Object(T.jsxs)("div",{className:"phoneDetails__specification specification",children:[Object(T.jsx)("h2",{className:"specification__title",children:"Tech specs"}),Object(T.jsx)("span",{className:"infoSelect__underline"}),Object(T.jsx)(de,{screen:d,resolution:_,processor:p,ram:O,capacity:b,camera:h,zoom:x,cell:v})]})]})]})},he=function(){window.scroll({top:0,behavior:"smooth"})},_e=function(){var e=Object(i.q)().phoneId,t=void 0===e?"":e,c=Object(u.useState)(),n=Object(l.a)(c,2),a=n[0],s=n[1],o=Object(u.useState)([]),d=Object(l.a)(o,2),b=d[0],m=d[1],h=Object(u.useState)(!1),_=Object(l.a)(h,2),p=_[0],x=_[1],v=Object(u.useState)(null),N=Object(l.a)(v,2),y=N[0],C=N[1],S=Object(i.o)(),I=function(){var e=Object(r.a)(j.a.mark((function e(){var c,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,f(t);case 4:return c=e.sent,e.next=7,O();case 7:n=e.sent,a=g(n),s(c),m(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),C("Phone was not found"),setTimeout((function(){S("..")}),3500);case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){if(t){var e=setTimeout((function(){he()}),300);return I(),function(){return clearTimeout(e)}}}),[t]),Object(T.jsxs)(T.Fragment,{children:[p&&Object(T.jsx)(X,{}),a&&!y&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(me,{phoneDetails:a,phoneData:b,phoneId:t}),Object(T.jsx)(F,{title:"You may also like",items:b})]}),y&&Object(T.jsx)("h1",{children:"".concat(y)})]})},pe=(c(51),c(52),function(){return Object(T.jsx)("div",{className:"logo",children:Object(T.jsx)(s.b,{to:"/",className:"logo__link","aria-label":"logo"})})});!function(e){e.Github="github",e.Contacts="contacts",e.Rights="rights"}(se||(se={}));var Oe=[{pathTo:"/github",title:se.Github},{pathTo:"/contacts",title:se.Contacts},{pathTo:"/rights",title:se.Rights}],fe=(c(53),function(){return Object(T.jsxs)("div",{className:"backToTop",children:[" ",Object(T.jsx)("button",{type:"button",className:"backToTop__icon","aria-label":"Back to top",onClick:he})]})}),xe=(c(54),function(){return Object(T.jsx)("footer",{className:"footer",children:Object(T.jsx)("div",{className:"container container--vertical-middle",children:Object(T.jsxs)("div",{className:"footer__items",children:[Object(T.jsx)("div",{className:"footer__item",children:Object(T.jsx)(pe,{})}),Object(T.jsx)("div",{className:"footer__item",children:Object(T.jsx)("div",{className:"footer__links",children:Oe.map((function(e){var t=e.pathTo,c=e.title;return Object(T.jsx)(s.b,{to:t,className:"footer__link",children:c},c)}))})}),Object(T.jsx)("div",{className:"footer__item",children:Object(T.jsx)(fe,{})})]})})})}),ve=(c(55),c(56),function(e){return e.map((function(e){return e.quantity})).reduce((function(e,t){return e+t}),0)}),Ne=function(){var e=Object(i.m)().pathname,t=Object(u.useContext)(P).cartItems,c=ve(t);return Object(T.jsx)("div",{className:"cart",children:Object(T.jsx)(s.b,{to:"cart",className:S()("cart__link",{"cart__link--active":"/cart"===e,"cart__link--contain":c>0}),children:!!c&&Object(T.jsx)("div",{className:"cart__linkValue",children:c})})})},ge=(c(57),function(){var e=Object(i.m)().pathname,t=Object(u.useContext)(P).favoriteItems;return Object(T.jsx)("div",{className:"favorites",children:Object(T.jsx)(s.b,{to:"favorites",className:S()("favorites__link",{"favorites__link--active":"/favorites"===e,"favorites__link--contain":!!t.length}),children:!!t.length&&Object(T.jsx)("div",{className:"favorites__linkValue",children:t.length})})})}),ye=(c(58),function(e){var t=e.to,c=e.text;return Object(T.jsx)(s.c,{to:t,className:function(e){var t=e.isActive;return S()("nav__list__link",{"nav__list__link--active":t})},children:c})}),Ce=(c(59),function(e){var t=e.setIsNav,c=e.isNav;return Object(T.jsx)("button",{type:"button",className:"btn",onClick:function(){return t((function(e){return!e}))},children:Object(T.jsx)("div",{className:c?"btn__burgerClose":"btn__burger"})})}),Se=function(){var e=Object(u.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(i.m)();return Object(u.useEffect)((function(){n(!1)}),[a]),Object(T.jsxs)("nav",{className:"nav",children:[Object(T.jsx)(Ce,{setIsNav:n,isNav:c}),Object(T.jsx)("ul",{className:S()("nav__list",{"nav__list--active":c}),children:B.map((function(e){var t=e.pathTo,c=e.title;return Object(T.jsx)("li",{className:"nav__listItem",children:Object(T.jsx)(ye,{to:t,text:c})},c)}))})]})},Ie=c(28),we=c.n(Ie);function ke(e,t){for(var c=new URLSearchParams(t),n=function(){var e=Object(l.a)(s[a],2),t=e[0],n=e[1];null===n?c.delete(t):Array.isArray(n)?(c.delete(t),n.forEach((function(e){return c.append(t,e.toString())}))):c.set(t,n.toString())},a=0,s=Object.entries(e);a<s.length;a++)n();return c.toString()}c(61);var Te=function(){var e=Object(s.d)(),t=Object(l.a)(e,2),c=t[0],n=t[1],a=c.get("query")||"",r=Object(u.useState)(a),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(i.m)().pathname,m="Search in ".concat(b.slice(1)),h=we()((function(e){n(ke({query:e||null},c))}),500);return Object(T.jsx)("div",{className:"search",children:Object(T.jsx)("form",{className:"search__form",onSubmit:function(e){e.preventDefault()},children:Object(T.jsx)("div",{className:"search__control control",children:Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{type:"text",className:"control__input",placeholder:m,value:j,onChange:function(e){var t=e.target.value;d(t),h(t)}}),Object(T.jsx)("span",{className:"control__icons control__icons--search",style:{pointerEvents:"all"},children:j.length>0?Object(T.jsx)("button",{"aria-label":"clear search","data-cy":"searchDelete",type:"button",className:"control__delete",onClick:function(){n(ke({query:null},c)),d("")},children:Object(T.jsx)("span",{className:"control__icon control__icon--deleteIcon"})}):Object(T.jsx)("i",{className:"control__icon control__icon--searchLoop"})})]})})})})},Ae=function(){var e=Object(i.m)().pathname,t="/cart"!==e,c=["/phones","/tablets","/accessories","/favorites"].includes(e);return Object(T.jsx)("header",{className:"header page__section",children:Object(T.jsxs)("div",{className:"header__content content-header",children:[Object(T.jsxs)("div",{className:" content-header__part content-header__part--left",children:[Object(T.jsx)(pe,{}),t&&Object(T.jsx)(Se,{})]}),Object(T.jsxs)("div",{className:" content-header__part content-header__part--right",children:[c&&Object(T.jsx)(Te,{}),Object(T.jsx)(ge,{}),Object(T.jsx)(Ne,{})]})]})})},Pe=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(Ae,{}),Object(T.jsx)("main",{className:"main",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(i.a,{})})}),Object(T.jsx)(xe,{})]})},De=(c(62),function(e){var t=e.product,c=e.quantity,n=void 0===c?1:c,a=e.id,s=e.discount,i=void 0===s||s,r=t.image,l=t.price,o=t.fullPrice,j=t.name,d=Object(u.useContext)(D),b=Object(u.useContext)(P).cartItems,h=function(e){d({type:"UPDATE_QUANTITY",payload:b.map((function(t){return t.id===a?Object(m.a)(Object(m.a)({},t),{},{quantity:"increase"===e?t.quantity+1:t.quantity-1}):t}))})},_=(i?l:o)*n;return Object(T.jsxs)("div",{className:"cartItem",children:[Object(T.jsxs)("div",{className:"cartItem__block",children:[Object(T.jsx)("button",{className:"cartItem__buttonRemove",type:"button","aria-label":"remove","data-cy":"cartDeleteButton",onClick:function(){return e=a,void d({type:"REMOVE_FROM_CART",payload:b.filter((function(t){return t.id!==e}))});var e}}),Object(T.jsx)("div",{className:"cartItem__imgContainer",children:Object(T.jsx)("img",{src:r,alt:"",className:"cartItem__img"})}),Object(T.jsx)("p",{className:"cartItem__title",children:j})]}),Object(T.jsxs)("div",{className:"cartItem__block cartItem__block--next",children:[Object(T.jsxs)("div",{className:"cartItem__buttons",children:[Object(T.jsx)("button",{className:"cartItem__button cartItem__button--decrease",type:"button","aria-label":"decrease",disabled:1===n,onClick:function(){return h("decrease")}}),Object(T.jsx)("span",{children:n}),Object(T.jsx)("button",{className:"cartItem__button cartItem__button--increase",type:"button","aria-label":"increase",onClick:function(){return h("increase")}})]}),Object(T.jsx)("div",{className:"cartItem__price",children:"$".concat(_)})]})]})}),Ee=(c(63),function(){var e=Object(u.useContext)(P).cartItems;return Object(T.jsx)("ul",{className:"cartItems__list",children:e.map((function(e){return Object(T.jsx)("li",{className:"cartItems__listItem",children:Object(T.jsx)(De,{id:e.id,product:e.product,quantity:e.quantity,discount:e.discount})},e.id)}))})}),Re=(c(64),function(){var e=Object(u.useContext)(P),t=e.cartItems,c=e.totalCost,n=Object(u.useContext)(D),a=Object(u.useState)(!1),s=Object(l.a)(a,2),i=s[0],r=s[1],o=ve(t);return Object(u.useEffect)((function(){!function(){var e=t.map((function(e){var t=e.product,c=t.price,n=t.fullPrice;return(e.discount?c:n)*e.quantity})).reduce((function(e,t){return e+t}),0);n({type:"UPDATE_PRICE",payload:e})}()}),[t]),Object(u.useEffect)((function(){var e=setTimeout((function(){r(!1)}),3e3);return function(){clearTimeout(e)}}),[i]),Object(T.jsx)("div",{className:"cartPage__total totalCart",children:Object(T.jsxs)("div",{className:"totalCart__container",children:[Object(T.jsx)("h1",{className:"totalCart__price",children:"$".concat(c)}),Object(T.jsx)("h4",{className:"totalCart__subtitle",children:"Total for ".concat(o," items")}),Object(T.jsx)("span",{className:"totalCart__line"}),i?Object(T.jsx)("div",{className:"totalCart__message",children:"We are sorry but this feature is not implemented yet"}):Object(T.jsx)("button",{className:"totalCart__btn",type:"button",onClick:function(){return r(!0)},children:"Checkout"})]})})}),Le=(c(65),function(){var e=Object(u.useContext)(P).cartItems;return Object(T.jsxs)("section",{className:"cartPage",children:[Object(T.jsx)("div",{className:"cartPage__backLink",children:Object(T.jsx)(be,{})}),Object(T.jsx)("h1",{className:"cartPage__title",children:"Cart"}),e.length?Object(T.jsxs)("div",{className:"cartPage__content",children:[Object(T.jsx)(Ee,{}),Object(T.jsx)(Re,{})]}):Object(T.jsx)("h1",{children:"Your cart is empty"})]})}),Fe=(c(66),function(){var e=Object(u.useContext)(P).favoriteItems,t=Object(s.d)(),c=Object(l.a)(t,1)[0].get("query"),n=ae(e,c),a=c&&!n.length;return Object(T.jsxs)("section",{className:"favoritesPage",children:[Object(T.jsx)("div",{className:"favoritesPage__breadcrumbs",children:Object(T.jsx)(ne,{page:"Favorites"})}),Object(T.jsx)("h1",{className:"favoritesPage__title",children:"Favorites"}),!e.length&&Object(T.jsx)("h2",{children:"Favorites is Empty now"}),n.length?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h4",{className:"favoritesPage__subtitle",children:"".concat(n.length," items")}),Object(T.jsx)(ee,{data:n})]}):a&&Object(T.jsx)(ie,{})]})}),qe=function(){return Object(T.jsx)(E,{children:Object(T.jsx)(s.a,{children:Object(T.jsx)(i.d,{children:Object(T.jsxs)(i.b,{path:"/",element:Object(T.jsx)(Pe,{}),children:[Object(T.jsx)(i.b,{index:!0,element:Object(T.jsx)(Q,{})}),Object(T.jsxs)(i.b,{path:"phones",children:[Object(T.jsx)(i.b,{index:!0,element:Object(T.jsx)(re,{})}),Object(T.jsx)(i.b,{path:":phoneId",element:Object(T.jsx)(_e,{})})]}),Object(T.jsx)(i.b,{path:"tablets",element:Object(T.jsx)(le,{})}),Object(T.jsx)(i.b,{path:"accessories",element:Object(T.jsx)(oe,{})}),Object(T.jsx)(i.b,{path:"cart",element:Object(T.jsx)(Le,{})}),Object(T.jsx)(i.b,{path:"favorites",element:Object(T.jsx)(Fe,{})}),Object(T.jsx)(i.b,{path:"*",element:Object(T.jsx)("p",{children:"Page not found"})})]})})})})};a.a.render(Object(T.jsx)(qe,{}),document.getElementById("root"))}]),[[67,1,2]]]);
//# sourceMappingURL=main.6d5677aa.chunk.js.map